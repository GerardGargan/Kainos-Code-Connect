<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="/mycss.css">
    <link rel="icon" type="image/png" href="/favicon.webp">
    <title>View Employees</title>
</head>
<body>

  <%- include('nav'); %>

    <!-- View employees table -->
    <table class="table">
        <thead>
          <tr>
            <th scope="col">Employee No.</th>
            <th scope="col">Name</th>
            <th scope="col">Address</th>
            <% if(role == 'admin') { %>
              <th scope="col">Salary</th>
            <% } %>
            
            <th scope="col">Role</th>
            <th scope="col">Changes</th>
          </tr>
        </thead>
        <tbody>
            <% data.forEach(employee => { %>
               <% var employee_id = employee.employee_id;
                var employee_name = employee.employee_name;
                var employee_salary = employee.employee_salary;
                var employee_role = employee.employee_role;
                var employee_number = employee.employee_number;
                var employee_address = employee.employee_address;
               %>
          <tr>
            <td scope="row"><%= employee_number %></td>
            <td><%= employee_name %></td>
            <td><%= employee_address %></td>
            <% if(role == 'admin') { %>
              <td><%= employee_salary %></td>
            <% } %>
            
            <td><%= employee_role %></td>
            <td><a href="/editemployee/<%= employee_id %>" type="Edit" class="btn btn-primary">Edit</button></td>
          </tr>
        
          <% }); %>
        </tbody>
      </table>
      <a href="/addemployee" type="addEmployee" class="btn btn-primary">Add Employee</button>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <%- include('footer'); %>

</body>
</html>